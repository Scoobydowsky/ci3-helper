<idea-plugin>
    <id>scoobydowsky.ci.helper</id>
    <name>CodeIgniter 3 Helper</name>
    <vendor>Tomek "Scoobydowsky" Woytkowiak</vendor>

    <!-- Plugin tylko dla PhpStorm: wymaga PHP, wyklucza IDE z moduÅ‚em Java (IDEA). -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.jetbrains.php</depends>
    <incompatible-with>com.intellij.java</incompatible-with>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">

        <applicationService
                serviceImplementation="dev.woytkowiak.ci.helper.ci.Ci3PluginState"/>

        <statusBarWidgetFactory
                id="CodeIgniter3Helper"
                implementation="dev.woytkowiak.ci.helper.ci.statusbar.Ci3StatusBarWidgetFactory"/>

        <completion.contributor
                language="PHP"
                implementationClass="dev.woytkowiak.ci.helper.ci.completion.CiModelCompletionContributor"/>
        <psi.referenceContributor
                implementation="dev.woytkowiak.ci.helper.ci.navigation.CiViewReferenceContributor"/>
        <psi.referenceContributor
                implementation="dev.woytkowiak.ci.helper.ci.navigation.CiRouteReferenceContributor"/>
        <psi.referenceContributor
                implementation="dev.woytkowiak.ci.helper.ci.navigation.CiLibraryReferenceContributor"/>
        <psi.referenceContributor
                implementation="dev.woytkowiak.ci.helper.ci.navigation.CiModelReferenceContributor"/>
        <psi.referenceContributor
                implementation="dev.woytkowiak.ci.helper.ci.navigation.CiHelperReferenceContributor"/>

        <intentionAction
                language="PHP"
                implementation="dev.woytkowiak.ci.helper.ci.intentions.AddCi3SuperObjectPropertyIntention"
                categories="CodeIgniter 3"/>

        <lang.inspectionSuppressor
                language="PHP"
                implementationClass="dev.woytkowiak.ci.helper.ci.suppress.Ci3UndefinedFieldSuppressor"/>

        <lang.findUsagesProvider
                language="PHP"
                implementationClass="dev.woytkowiak.ci.helper.ci.navigation.CiViewFindUsagesProvider"/>

    </extensions>

    <extensions defaultExtensionNs="com.jetbrains.php">
        <includedPathsContributor implementation="dev.woytkowiak.ci.helper.ci.stubs.Ci3StubIncludePathContributor"/>
        <typeProvider4 implementation="dev.woytkowiak.ci.helper.ci.types.Ci3ThisTypeProvider"/>
    </extensions>

    <extensions defaultExtensionNs="com.intellij">
        <internalFileTemplate name="CI3 Controller.php"/>
        <internalFileTemplate name="CI3 Model.php"/>
        <internalFileTemplate name="CI3 View.php"/>
        <internalFileTemplate name="CI3 API Controller.php"/>
    </extensions>

    <actions>
        <group id="NewCodeIgniter3Group" text="%group.NewCodeIgniter3Group.text" popup="true" icon="dev.woytkowiak.ci.helper.ci.Ci3Icons.Ci3">
            <add-to-group group-id="NewGroup" anchor="first"/>
            <action id="Create.Ci3.Controller"
                    class="dev.woytkowiak.ci.helper.ci.actions.CreateCi3ControllerAction"
                    text="%action.create.ci3.controller.text"
                    description="%action.create.ci3.controller.text"/>
            <action id="Create.Ci3.Model"
                    class="dev.woytkowiak.ci.helper.ci.actions.CreateCi3ModelAction"
                    text="%action.create.ci3.model.text"
                    description="%action.create.ci3.model.text"/>
            <action id="Create.Ci3.View"
                    class="dev.woytkowiak.ci.helper.ci.actions.CreateCi3ViewAction"
                    text="%action.create.ci3.view.text"
                    description="%action.create.ci3.view.text"/>
            <action id="Create.Ci3.ApiController"
                    class="dev.woytkowiak.ci.helper.ci.actions.CreateCi3ApiControllerAction"
                    text="%action.create.ci3.api.text"
                    description="%action.create.ci3.api.text"/>
        </group>
        <action id="Support.Ci3.Author"
                class="dev.woytkowiak.ci.helper.ci.actions.SupportAuthorAction"
                text="%action.support.author.text"
                description="%action.support.author.description">
            <add-to-group group-id="HelpMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
